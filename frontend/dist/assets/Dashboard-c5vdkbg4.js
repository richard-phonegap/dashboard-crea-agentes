import{d as k,u as h,o as E,a as i,c as r,b as s,F as x,r as D,w as u,t as l,e as f,f as c,v as g,g as $,h as M,i as p,_ as N}from"./index-CSrpo0t2.js";import{crewsApi as m}from"./api-CMOejpBo.js";const S={class:"dashboard"},V={class:"dashboard-header animate-fade-in"},U={key:0,class:"crews-grid"},I=["onClick"],A={class:"crew-card-header"},B={class:"crew-actions"},T=["onClick"],j={class:"crew-name"},F={class:"crew-desc text-muted text-sm"},L={class:"crew-stats"},J={class:"stat"},P={class:"stat"},Q={class:"crew-meta"},R={class:"badge badge-purple"},z={class:"text-sm text-muted"},G={key:1,class:"empty-state animate-fade-in"},H={class:"modal animate-fade-in"},K={class:"form-group"},O={class:"form-group"},W={class:"form-group"},X={class:"modal-actions"},Y=["disabled"],Z=k({__name:"Dashboard",setup(ee){const v=h(),d=p([]),n=p(!1),o=p({name:"",description:"",process:"sequential"});E(async()=>{await b()});async function b(){try{d.value=await m.list()}catch(a){console.error("Error loading crews:",a)}}async function w(){try{const a=await m.create(o.value);n.value=!1,o.value={name:"",description:"",process:"sequential"},v.push(`/editor/${a.id}`)}catch(a){console.error("Error creating crew:",a)}}async function y(a){if(confirm("Â¿Eliminar este equipo?"))try{await m.delete(a),await b()}catch(e){console.error("Error deleting crew:",e)}}function _(a){v.push(`/editor/${a}`)}function C(a){return new Date(a).toLocaleDateString("es",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}return(a,e)=>(i(),r("div",S,[s("div",V,[e[7]||(e[7]=s("div",null,[s("h1",null,"Mis Equipos"),s("p",{class:"text-muted"},"DiseÃ±a y gestiona tus equipos de agentes IA")],-1)),s("button",{class:"btn btn-primary btn-lg",onClick:e[0]||(e[0]=t=>n.value=!0)}," âœ¨ Nuevo Equipo ")]),d.value.length>0?(i(),r("div",U,[(i(!0),r(x,null,D(d.value,t=>(i(),r("div",{key:t.id,class:"crew-card card animate-fade-in",onClick:q=>_(t.id)},[s("div",A,[e[8]||(e[8]=s("div",{class:"crew-icon"},"ðŸ‘¥",-1)),s("div",B,[s("button",{class:"btn btn-ghost btn-icon btn-sm",onClick:u(q=>y(t.id),["stop"]),title:"Eliminar"},"ðŸ—‘ï¸",8,T)])]),s("h3",j,l(t.name),1),s("p",F,l(t.description||"Sin descripciÃ³n"),1),s("div",L,[s("span",J,[e[9]||(e[9]=s("span",{class:"stat-icon"},"ðŸ§ ",-1)),f(" "+l(t.agent_count)+" agentes ",1)]),s("span",P,[e[10]||(e[10]=s("span",{class:"stat-icon"},"ðŸ“‹",-1)),f(" "+l(t.task_count)+" tareas ",1)])]),s("div",Q,[s("span",R,l(t.process),1),s("span",z,l(C(t.updated_at)),1)])],8,I))),128))])):(i(),r("div",G,[e[11]||(e[11]=s("div",{class:"empty-icon"},"ðŸš€",-1)),e[12]||(e[12]=s("h2",null,"Â¡Crea tu primer equipo!",-1)),e[13]||(e[13]=s("p",{class:"text-muted"}," Un equipo es un grupo de agentes IA que colaboran para completar tareas complejas. ",-1)),s("button",{class:"btn btn-primary btn-lg",onClick:e[1]||(e[1]=t=>n.value=!0)}," âœ¨ Crear Equipo ")])),n.value?(i(),r("div",{key:2,class:"modal-overlay",onClick:e[6]||(e[6]=u(t=>n.value=!1,["self"]))},[s("div",H,[e[18]||(e[18]=s("h2",null,"Nuevo Equipo",-1)),s("form",{onSubmit:u(w,["prevent"])},[s("div",K,[e[14]||(e[14]=s("label",{class:"form-label"},"Nombre",-1)),c(s("input",{class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.name=t),placeholder:"Ej: Equipo de InvestigaciÃ³n",required:"",autofocus:""},null,512),[[g,o.value.name]])]),s("div",O,[e[15]||(e[15]=s("label",{class:"form-label"},"DescripciÃ³n",-1)),c(s("textarea",{class:"textarea","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.description=t),placeholder:"Â¿QuÃ© hace este equipo?",rows:"3"},null,512),[[g,o.value.description]])]),s("div",W,[e[17]||(e[17]=s("label",{class:"form-label"},"Proceso",-1)),c(s("select",{class:"select","onUpdate:modelValue":e[4]||(e[4]=t=>o.value.process=t)},[...e[16]||(e[16]=[s("option",{value:"sequential"},"Secuencial â€” Tareas en orden",-1),s("option",{value:"hierarchical"},"JerÃ¡rquico â€” Un agente delega",-1)])],512),[[$,o.value.process]])]),s("div",X,[s("button",{type:"button",class:"btn btn-secondary",onClick:e[5]||(e[5]=t=>n.value=!1)},"Cancelar"),s("button",{type:"submit",class:"btn btn-primary",disabled:!o.value.name},"Crear Equipo",8,Y)])],32)])])):M("",!0)]))}}),ae=N(Z,[["__scopeId","data-v-26a4c6ca"]]);export{ae as default};
